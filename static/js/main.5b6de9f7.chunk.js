(this["webpackJsonpdeputados-api"]=this["webpackJsonpdeputados-api"]||[]).push([[0],{192:function(e,a,t){e.exports=t(305)},197:function(e,a,t){},305:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(13),o=t.n(l),c=t(15),i=(t(197),t(177)),s=t(344),u=t(358),m=t(379),d=t(369),p=t(368),b=t(378),f=t(53),g=t(26),E=t.n(g),h=t(52),v=t(353),O=t(126),j=t(382),y=t(346),S=Object(s.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}}));function x(){var e=S();return r.a.createElement("div",{className:e.root},r.a.createElement(y.a,null))}var C=t(348),P=t(384),k=t(377),I=t(385),w=Object(s.a)((function(e){return{select:{margin:e.spacing(4),minWidth:120}}}));function F(e){var a=e.label,t=e.menuItems,n=e.value,l=e.setOnChange,o=w();return r.a.createElement(C.a,{variant:"outlined",className:o.select},r.a.createElement(P.a,{id:a},a),r.a.createElement(k.a,{labelId:a,id:a,value:n,onChange:function(e){return l(e.target.value)},label:a},t.map((function(e){return r.a.createElement(I.a,{key:e,value:e},e)}))))}var N=t(349),D=t(350),T=t(351),R=t(386),L=t(352),A=Object(s.a)((function(e){return{root:{width:250,height:300},avatar:{borderRadius:"50%",width:e.spacing(10),height:e.spacing(10)},center:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:e.spacing(1)}}}));function B(e){var a=e.id,t=e.email,n=e.nome,l=e.siglaPartido,o=e.siglaUf,c=e.setDeputadoId,i=e.urlFoto,s=A();return r.a.createElement(N.a,{elevation:3,className:s.root},r.a.createElement(D.a,null,r.a.createElement(T.a,null,r.a.createElement("div",{className:s.center},r.a.createElement(R.a,{alt:n,src:i,className:s.avatar})),r.a.createElement(O.a,{gutterBottom:!0,variant:"h6",component:"p"},n),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"Partido: ",l),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"Estado: ",o),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"a",href:"mailto:".concat(t)},"E-mail"))),r.a.createElement(L.a,null,r.a.createElement(v.a,{variant:"outlined",size:"small",color:"primary",onClick:function(){return c(a)}},"Cota parlamentar")))}var J=t(357),U=t(383),G=t(359),M=t(361),z=t(180),q=t(362),V=t(363),W=t(364),_=t(365),H=t(366),K=t(367),Q=t(103),X=t.n(Q),Y=t(175),Z=t.n(Y),$=t(354),ee=t(355),ae=t(356),te=t(376);function ne(e){for(var a=e.gastos,t=Object(f.a)(new Set(a.map((function(e){return e.nomeFornecedor})))),n=[],l=0;l<t.length;l++){for(var o=0,c={x:"",y:0},i=0;i<a.length;i++)a[i].nomeFornecedor===t[l]&&(o+=a[i].valorLiquido);c.x=String(t[l]),c.y=o.toLocaleString("pt-br",{style:"currency",currency:"BRL"}),n.push(c)}return r.a.createElement(te.a,{height:200,width:300,colorScale:"qualitative",style:{labels:{fontSize:5}},standlone:!1,data:n,labels:function(e){var a=e.datum;return"".concat(a.x,": ").concat(a.y)}})}function re(e){var a=e.gastos,t=e.isPlot,n=e.setIsPlot,l=e.escolhido;return r.a.createElement("div",null,r.a.createElement(U.a,{fullScreen:!0,open:t,onClose:function(){return n(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement($.a,{id:"alert-dialog-title"},l.nome," (",l.siglaUf,") - ",l.siglaPartido),r.a.createElement(ee.a,null,r.a.createElement(ne,{gastos:a})),r.a.createElement(ae.a,null,r.a.createElement(v.a,{onClick:function(){return n(!1)},color:"primary"},r.a.createElement(X.a,null)," Fechar"))))}var le=Object(s.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},avatar:{borderRadius:"50%",width:e.spacing(7),height:e.spacing(7)}}})),oe=r.a.forwardRef((function(e,a){return r.a.createElement(J.a,Object.assign({direction:"up",ref:a},e))}));function ce(e){var a=e.deputadoId,t=e.setDeputadoId,l=e.deputados,o=le(),i=Object(n.useState)(!1),s=Object(c.a)(i,2),m=s[0],d=s[1],p=Object(n.useState)(""),b=Object(c.a)(p,2),f=b[0],g=b[1],y=Object(n.useState)([]),S=Object(c.a)(y,2),C=S[0],P=S[1],k=Object(n.useState)(""),I=Object(c.a)(k,2),w=I[0],F=I[1],N=Object(n.useState)(!1),D=Object(c.a)(N,2),T=D[0],L=D[1];function A(){return(A=Object(h.a)(E.a.mark((function e(a){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a){e.next=4;break}return e.abrupt("return");case 4:return d(!0),g(""),"ano=2020",t="https://dadosabertos.camara.leg.br/api/v2/deputados/".concat(a,"/despesas?").concat("ano=2020","&ordem=DESC&ordenarPor=ano"),e.next=10,fetch(t).then(function(){var e=Object(h.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json().then((function(e){P(e.dados);var t=l.filter((function(e){return e.id===a}))[0];F(t)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){g(e.message)}));case 10:d(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){t(""),F("")}return Object(n.useEffect)((function(){!function(e){A.apply(this,arguments)}(a)}),[a]),r.a.createElement("div",null,r.a.createElement(U.a,{fullScreen:!0,open:""!==a,onClose:B,TransitionComponent:oe},r.a.createElement(u.a,{className:o.appBar},r.a.createElement(G.a,null,r.a.createElement(O.a,{variant:"h5",className:o.title},"Cota parlamentar"),r.a.createElement(R.a,{alt:w.nome,src:w.urlFoto,className:o.avatar}),r.a.createElement(O.a,{variant:"h6",className:o.title},w.nome," (",w.siglaUf,") - ",w.siglaPartido),!m&&r.a.createElement(v.a,{autoFocus:!0,color:"inherit",onClick:function(){L(!T)}},r.a.createElement(Z.a,null)," Gr\xe1fico"),r.a.createElement(v.a,{autoFocus:!0,color:"inherit",onClick:B},r.a.createElement(X.a,null)," Fechar"))),m&&r.a.createElement(x,null),f.length>0&&r.a.createElement(j.a,{severity:"error",className:o.alert},f),!m&&0===f.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{component:z.a},r.a.createElement(q.a,{"aria-label":"Registros de pagamentos e reembolsos da cota parlamentar",size:"small"},r.a.createElement(V.a,null,r.a.createElement(W.a,null,r.a.createElement(_.a,null,"Data"),r.a.createElement(_.a,null,"Fornecedor"),r.a.createElement(_.a,null,"CNPJ"),r.a.createElement(_.a,null,"Tipo Despesa"),r.a.createElement(_.a,null,"Tipo Documento"),r.a.createElement(_.a,null,"Link Documento"),r.a.createElement(_.a,null,"Valor Documento"),r.a.createElement(_.a,null,"Valor Glosa"),r.a.createElement(_.a,null,"Valor L\xedquido"))),r.a.createElement(H.a,null,C.map((function(e){return r.a.createElement(W.a,{key:e.codDocumento},r.a.createElement(_.a,null,e.dataDocumento),r.a.createElement(_.a,null,e.nomeFornecedor),r.a.createElement(_.a,null,e.cnpjCpfFornecedor),r.a.createElement(_.a,null,e.tipoDespesa),r.a.createElement(_.a,null,e.tipoDocumento),r.a.createElement(_.a,null,r.a.createElement(K.a,{href:e.urlDocumento,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.a,{size:"small",variant:"contained",color:"primary"},"Abrir"))),r.a.createElement(_.a,null,e.valorDocumento.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),r.a.createElement(_.a,null,e.valorGlosa.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),r.a.createElement(_.a,null,e.valorLiquido.toLocaleString("pt-br",{style:"currency",currency:"BRL"})))}))))))),T&&!m&&r.a.createElement(re,{gastos:C,isPlot:T,setIsPlot:L,escolhido:w}))}var ie=t(380),se=Object(s.a)((function(e){return{formControl:{margin:e.spacing(4),minWidth:120},alert:{margin:e.spacing(2)},root:{margin:e.spacing(4),display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center","& > *":{margin:e.spacing(1)}}}}));function ue(){var e=se(),a=Object(n.useState)(!1),t=Object(c.a)(a,2),l=t[0],o=t[1],i=Object(n.useState)(""),s=Object(c.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)("Todos"),p=Object(c.a)(d,2),b=p[0],g=p[1],y=Object(n.useState)("Todos"),S=Object(c.a)(y,2),C=S[0],P=S[1],k=Object(n.useState)([]),I=Object(c.a)(k,2),w=I[0],N=I[1],D=Object(n.useState)([]),T=Object(c.a)(D,2),R=T[0],L=T[1],A=Object(n.useState)(1),J=Object(c.a)(A,2),U=J[0],G=J[1],M=Object(n.useState)(""),z=Object(c.a)(M,2),q=z[0],V=z[1],W=Object(n.useState)(["Todos"]),_=Object(c.a)(W,2),H=_[0],K=_[1];function Q(e){L(e.map((function(e){return r.a.createElement(B,{key:e.id,variant:"contained",id:e.id,email:e.email,nome:e.nome,siglaPartido:e.siglaPartido,siglaUf:e.siglaUf,urlFoto:e.urlFoto,setDeputadoId:V})})))}function X(){return(X=Object(h.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),"https://dadosabertos.camara.leg.br/api/v2/deputados?ordem=ASC&ordenarPor=nome",a="https://dadosabertos.camara.leg.br/api/v2/partidos?itens=200&ordem=ASC&ordenarPor=sigla",e.next=5,fetch("https://dadosabertos.camara.leg.br/api/v2/deputados?ordem=ASC&ordenarPor=nome").then(function(){var e=Object(h.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then((function(e){N(e.dados),localStorage.setItem("deputadosapi",JSON.stringify(e.dados))}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){m(e.message)}));case 5:return e.next=7,fetch(a).then(function(){var e=Object(h.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then((function(e){var a=e.dados.map((function(e){return e.sigla}));K([].concat(Object(f.a)(H),Object(f.a)(a))),localStorage.setItem("partidosapi",JSON.stringify([].concat(Object(f.a)(H),Object(f.a)(a))))}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){m(e.message)}));case 7:o(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("deputadosapi")),a=JSON.parse(localStorage.getItem("partidosapi"));null!==e&&e.length>0&&null!==a&&a.length>0?(N(e),K(a)):function(){X.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){w.length>0&&Q(w)}),[w]),r.a.createElement(r.a.Fragment,null,!l&&0===u.length&&r.a.createElement("div",{className:e.root},r.a.createElement(F,{label:"UF",menuItems:["Todos","AC","AL","AP","AM","BA","CE","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO","DF"],value:b,setOnChange:g}),r.a.createElement(F,{label:"Partido",menuItems:H,value:C,setOnChange:P}),r.a.createElement(v.a,{variant:"outlined",onClick:function(){if(o(!0),w.length>0){var e=[];"Todos"===b&&"Todos"===C?e=w:(e=w.filter((function(e){return"Todos"!==b&&"Todos"!==C?e.siglaUf===b&&e.siglaPartido===C:"Todos"===b&&"Todos"!==C?e.siglaPartido===C:"Todos"!==b&&"Todos"===C?e.siglaUf===b:void 0})),G(1)),Q(e)}o(!1)},className:e.formControl},"Filtrar"),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"Resultado: ",R.length," deputados(as).")),l&&r.a.createElement(x,null),u.length>0&&r.a.createElement(j.a,{severity:"error",className:e.alert},u),!l&&R.length>0&&H.length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.root},R.slice(8*U-8,8*U)),r.a.createElement("div",{className:e.root},r.a.createElement(ie.a,{defaultPage:1,count:Math.ceil(R.length/8),color:"standard",onChange:function(e,a){return G(a)}}))),""!==q&&r.a.createElement(ce,{deputadoId:q,setDeputadoId:V,deputados:w}))}function me(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Sobre este projeto"),r.a.createElement("h4",null,"Frontend desenvolvido em ReactJS e Material-UI consumindo a API dos Dados Abertos da C\xe2mara dos Deputados. "),r.a.createElement("p",null,"Fonte de dados, API:"),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"a",rel:"noopener noreferrer",target:"_blank",href:"https://dadosabertos.camara.leg.br/swagger/api.html"},"https://dadosabertos.camara.leg.br/swagger/api.html"))}function de(e){var a=e.children,t=e.value,n=e.index,l=Object(i.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},l),t===n&&r.a.createElement(p.a,null,r.a.createElement(b.a,null,a)))}function pe(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var be=Object(s.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}}));function fe(){var e=be(),a=Object(n.useState)(0),t=Object(c.a)(a,2),l=t[0],o=t[1];return r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{position:"static",color:"default"},r.a.createElement(m.a,{value:l,onChange:function(e,a){o(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},r.a.createElement(d.a,Object.assign({label:"Governo API"},pe(0))),r.a.createElement(d.a,Object.assign({label:"Sobre"},pe(1))))),r.a.createElement(de,{value:l,index:0},r.a.createElement(ue,null)),r.a.createElement(de,{value:l,index:1},r.a.createElement(me,null)))}var ge=t(176),Ee=t(387),he=t(372),ve=t(374),Oe=t(375),je=t(388),ye=t(105),Se=t(106),xe=t(370),Ce=t(371),Pe=t(373);function ke(){var e=Object(n.useState)(!0),a=Object(c.a)(e,2),t=a[0],l=a[1],o=Object(n.useState)(!1),i=Object(c.a)(o,2),s=i[0],u=i[1],m=t?"dark":"light",d=t?ye.a[500]:Se.a[500],p=t?xe.a[900]:Ce.a[400],b=Object(ge.a)({palette:{type:m,primary:{main:d},secondary:{main:p}}});return b=Object(Ee.a)(b),r.a.createElement(he.a,{theme:b},r.a.createElement(Pe.a,null),r.a.createElement(ve.a,{style:{marginLeft:"20px",color:"grey"}},r.a.createElement(Oe.a,{control:r.a.createElement(je.a,{size:"small",checked:s,onChange:function(){l(!t),u(!s)},color:"primary",inputProps:{"aria-label":"primary checkbox"}}),label:"Tema "+m})),r.a.createElement(fe,null))}o.a.render(r.a.createElement(ke,null),document.getElementById("root"))}},[[192,1,2]]]);
//# sourceMappingURL=main.5b6de9f7.chunk.js.map