(this["webpackJsonpdeputados-api"]=this["webpackJsonpdeputados-api"]||[]).push([[0],{104:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),o=t.n(l),c=t(12),s=(t(97),t(79)),i=t(143),u=t(154),m=t(174),d=t(165),p=t(164),b=t(173),f=t(48),E=t(17),g=t.n(E),h=t(34),v=t(152),O=t(83),j=t(176),S=t(145),y=Object(i.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}}));function x(){var e=y();return r.a.createElement("div",{className:e.root},r.a.createElement(S.a,null))}var C=t(147),P=t(178),k=t(172),I=t(179),w=Object(i.a)((function(e){return{select:{margin:e.spacing(4),minWidth:120}}}));function F(e){var a=e.label,t=e.menuItems,n=e.value,l=e.setOnChange,o=w();return r.a.createElement(C.a,{variant:"outlined",className:o.select},r.a.createElement(P.a,{id:a},a),r.a.createElement(k.a,{labelId:a,id:a,value:n,onChange:function(e){return l(e.target.value)},label:a},t.map((function(e){return r.a.createElement(I.a,{key:e,value:e},e)}))))}var D=t(148),N=t(149),T=t(151),A=t(150),R=Object(i.a)({root:{width:250}});function J(e){var a=e.id,t=e.nome,n=e.siglaPartido,l=e.siglaUf,o=e.setDeputadoId,c=R();return r.a.createElement(D.a,{elevation:3,className:c.root},r.a.createElement(N.a,null,r.a.createElement(A.a,null,r.a.createElement(O.a,{gutterBottom:!0,variant:"h5",component:"h2"},t),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"Partido: ",n),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"Estado: ",l))),r.a.createElement(T.a,null,r.a.createElement(v.a,{variant:"outlined",size:"small",color:"primary",onClick:function(){return o(a)}},"Cota parlamentar")))}var G=t(153),L=t(177),U=t(155),B=t(180),M=t(157),z=t(82),q=t(158),V=t(159),W=t(160),$=t(161),_=t(162),H=t(163),K=t(77),Q=t.n(K),X=Object(i.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},avatar:{borderRadius:"50%",width:e.spacing(7),height:e.spacing(7)}}})),Y=r.a.forwardRef((function(e,a){return r.a.createElement(G.a,Object.assign({direction:"up",ref:a},e))}));function Z(e){var a=e.deputadoId,t=e.setDeputadoId,l=e.deputados,o=X(),s=Object(n.useState)(!1),i=Object(c.a)(s,2),m=i[0],d=i[1],p=Object(n.useState)(""),b=Object(c.a)(p,2),f=b[0],E=b[1],S=Object(n.useState)([]),y=Object(c.a)(S,2),C=y[0],P=y[1],k=Object(n.useState)(""),I=Object(c.a)(k,2),w=I[0],F=I[1];function D(){return(D=Object(h.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a){e.next=4;break}return e.abrupt("return");case 4:return d(!0),E(""),t="https://dadosabertos.camara.leg.br/api/v2/deputados/".concat(a,"/despesas?ordem=ASC&ordenarPor=ano"),e.next=9,fetch(t).then(function(){var e=Object(h.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json().then((function(e){P(e.dados);var t=l.filter((function(e){return e.id===a}))[0];F(t)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){E(e.message)}));case 9:d(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){t(""),F("")}return Object(n.useEffect)((function(){!function(e){D.apply(this,arguments)}(a)}),[a]),r.a.createElement("div",null,r.a.createElement(L.a,{fullScreen:!0,open:""!==a,onClose:N,TransitionComponent:Y},r.a.createElement(u.a,{className:o.appBar},r.a.createElement(U.a,null,r.a.createElement(O.a,{variant:"h5",className:o.title},"Cota parlamentar"),r.a.createElement(B.a,{alt:w.nome,src:w.urlFoto,className:o.avatar}),r.a.createElement(O.a,{variant:"h6",className:o.title},w.nome," (",w.siglaUf,") - ",w.siglaPartido),r.a.createElement(v.a,{autoFocus:!0,color:"inherit",onClick:N},r.a.createElement(Q.a,null)," Fechar"))),m&&r.a.createElement(x,null),f.length>0&&r.a.createElement(j.a,{severity:"error",className:o.alert},f),!m&&0===f.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{component:z.a},r.a.createElement(q.a,{"aria-label":"Registros de pagamentos e reembolsos da cota parlamentar",size:"small"},r.a.createElement(V.a,null,r.a.createElement(W.a,null,r.a.createElement($.a,null,"Data"),r.a.createElement($.a,null,"Fornecedor"),r.a.createElement($.a,null,"CNPJ"),r.a.createElement($.a,null,"Tipo Despesa"),r.a.createElement($.a,null,"Tipo Documento"),r.a.createElement($.a,null,"Link Documento"),r.a.createElement($.a,null,"Valor Documento (R$)"),r.a.createElement($.a,null,"Valor Glosa (R$)"),r.a.createElement($.a,null,"Valor L\xedquido (R$)"))),r.a.createElement(_.a,null,C.map((function(e){return r.a.createElement(W.a,{key:e.codDocumento},r.a.createElement($.a,null,e.dataDocumento),r.a.createElement($.a,null,e.nomeFornecedor),r.a.createElement($.a,null,e.cnpjCpfFornecedor),r.a.createElement($.a,null,e.tipoDespesa),r.a.createElement($.a,null,e.tipoDocumento),r.a.createElement($.a,null,r.a.createElement(H.a,{href:e.urlDocumento,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.a,{size:"small",variant:"contained",color:"primary"},"Abrir"))),r.a.createElement($.a,null,e.valorDocumento.toFixed(2)),r.a.createElement($.a,null,e.valorGlosa.toFixed(2)),r.a.createElement($.a,null,e.valorLiquido.toFixed(2)))}))))))))}var ee=Object(i.a)((function(e){return{formControl:{margin:e.spacing(4),minWidth:120},alert:{margin:e.spacing(2)},root:{margin:e.spacing(4),display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center","& > *":{margin:e.spacing(1)}}}}));function ae(){var e=ee(),a=Object(n.useState)(!1),t=Object(c.a)(a,2),l=t[0],o=t[1],s=Object(n.useState)(""),i=Object(c.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)(""),p=Object(c.a)(d,2),b=p[0],E=p[1],S=Object(n.useState)("Todos"),y=Object(c.a)(S,2),C=y[0],P=y[1],k=Object(n.useState)("Todos"),I=Object(c.a)(k,2),w=I[0],D=I[1],N=Object(n.useState)([]),T=Object(c.a)(N,2),A=T[0],R=T[1],G=Object(n.useState)(""),L=Object(c.a)(G,2),U=L[0],B=L[1],M=Object(n.useState)(["Todos"]),z=Object(c.a)(M,2),q=z[0],V=z[1];function W(e){E(e.map((function(e){return r.a.createElement(J,{key:e.id,variant:"contained",id:e.id,nome:e.nome,siglaPartido:e.siglaPartido,siglaUf:e.siglaUf,urlFoto:e.urlFoto,setDeputadoId:B})})))}function $(){return($=Object(h.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),"https://dadosabertos.camara.leg.br/api/v2/deputados?ordem=ASC&ordenarPor=nome",a="https://dadosabertos.camara.leg.br/api/v2/partidos?itens=100&ordem=ASC&ordenarPor=sigla",e.next=5,fetch("https://dadosabertos.camara.leg.br/api/v2/deputados?ordem=ASC&ordenarPor=nome").then(function(){var e=Object(h.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then((function(e){R(e.dados),localStorage.setItem("deputadosapi",JSON.stringify(e.dados))}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){m(e.message)}));case 5:return e.next=7,fetch(a).then(function(){var e=Object(h.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then((function(e){var a=e.dados.map((function(e){return e.sigla}));V([].concat(Object(f.a)(q),Object(f.a)(a))),localStorage.setItem("partidosapi",JSON.stringify([].concat(Object(f.a)(q),Object(f.a)(a))))}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){m(e.message)}));case 7:o(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("deputadosapi")),a=JSON.parse(localStorage.getItem("partidosapi"));null!==e&&e.length>0&&null!==a&&a.length>0?(R(e),V(a)):function(){$.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){A.length>0&&W(A)}),[A]),r.a.createElement(r.a.Fragment,null,!l&&0===u.length&&r.a.createElement("div",{className:e.root},r.a.createElement(F,{label:"UF",menuItems:["Todos","AC","AL","AP","AM","BA","CE","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO","DF"],value:C,setOnChange:P}),r.a.createElement(F,{label:"Partido",menuItems:q,value:w,setOnChange:D}),r.a.createElement(v.a,{variant:"outlined",onClick:function(){if(o(!0),A.length>0){W("Todos"===C&&"Todos"===w?A:A.filter((function(e){return"Todos"!==C&&"Todos"!==w?e.siglaUf===C&&e.siglaPartido===w:"Todos"===C&&"Todos"!==w?e.siglaPartido===w:"Todos"!==C&&"Todos"===w?e.siglaUf===C:void 0})))}o(!1)},className:e.formControl},"Filtrar"),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"Resultado: ",b.length," deputados(as).")),l&&r.a.createElement(x,null),u.length>0&&r.a.createElement(j.a,{severity:"error",className:e.alert},u),!l&&b.length>0&&q.length>1&&r.a.createElement("div",{className:e.root},b),""!==U&&r.a.createElement(Z,{deputadoId:U,setDeputadoId:B,deputados:A}))}function te(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Sobre este projeto"),r.a.createElement("h4",null,"Frontend desenvolvido em ReactJS e Material-UI consumindo a API dos Dados Abertos da C\xe2mara dos Deputados. "),r.a.createElement("p",null,"Em breve:"),r.a.createElement("ul",null,r.a.createElement("li",null,'Gera\xe7\xe3o de gr\xe1ficos a partir dos registros de pagamentos e reembolsos da "cota parlamentar" para cada deputado, para os \xfaltimos 4 anos'),r.a.createElement("li",null,"Listagem em tabela desses registros para cada deputado, para os \xfaltimos 4 anos"),r.a.createElement("li",null,"... atualmente a tabela apresenta registros dos \xfaltimos 6 meses"),r.a.createElement("li",null,"Alguns links para notas fiscais est\xe3o quebrados (?)"),r.a.createElement("li",null,"Gerar relat\xf3rio em PDF sobre o deputado"),r.a.createElement("li",null,"Melhorar desempenho na renderiza\xe7\xe3o dos cards (513 cards)")),r.a.createElement("p",null,"Fonte de dados, API:"),r.a.createElement("a",{href:"https://dadosabertos.camara.leg.br/swagger/api.html",rel:"noopener noreferrer",target:"_blank"},"https://dadosabertos.camara.leg.br/swagger/api.html"))}function ne(e){var a=e.children,t=e.value,n=e.index,l=Object(s.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},l),t===n&&r.a.createElement(p.a,null,r.a.createElement(b.a,null,a)))}function re(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var le=Object(i.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}}));function oe(){var e=le(),a=Object(n.useState)(0),t=Object(c.a)(a,2),l=t[0],o=t[1];return r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{position:"static",color:"default"},r.a.createElement(m.a,{value:l,onChange:function(e,a){o(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},r.a.createElement(d.a,Object.assign({label:"Governo API"},re(0))),r.a.createElement(d.a,Object.assign({label:"Sobre"},re(1))))),r.a.createElement(ne,{value:l,index:0},r.a.createElement(ae,null)),r.a.createElement(ne,{value:l,index:1},r.a.createElement(te,null)))}var ce=t(78),se=t(181),ie=t(168),ue=t(170),me=t(171),de=t(182),pe=t(63),be=t(64),fe=t(166),Ee=t(167),ge=t(169);function he(){var e=Object(n.useState)(!0),a=Object(c.a)(e,2),t=a[0],l=a[1],o=Object(n.useState)(!1),s=Object(c.a)(o,2),i=s[0],u=s[1],m=t?"dark":"light",d=t?pe.a[500]:be.a[500],p=t?fe.a[900]:Ee.a[400],b=Object(ce.a)({palette:{type:m,primary:{main:d},secondary:{main:p}}});return b=Object(se.a)(b),r.a.createElement(ie.a,{theme:b},r.a.createElement(ge.a,null),r.a.createElement(ue.a,{style:{marginLeft:"20px",color:"grey"}},r.a.createElement(me.a,{control:r.a.createElement(de.a,{size:"small",checked:i,onChange:function(){l(!t),u(!i)},color:"primary",inputProps:{"aria-label":"primary checkbox"}}),label:"Tema "+m})),r.a.createElement(oe,null))}o.a.render(r.a.createElement(he,null),document.getElementById("root"))},92:function(e,a,t){e.exports=t(104)},97:function(e,a,t){}},[[92,1,2]]]);
//# sourceMappingURL=main.dd93ca83.chunk.js.map