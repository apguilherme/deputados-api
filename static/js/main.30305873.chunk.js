(this["webpackJsonpdeputados-api"]=this["webpackJsonpdeputados-api"]||[]).push([[0],{210:function(e,a,t){e.exports=t(324)},215:function(e,a,t){},324:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(15),o=t.n(l),c=t(17),i=(t(215),t(195)),s=t(365),u=t(381),m=t(405),d=t(392),p=t(391),b=t(401),f=t(60),g=t(29),E=t.n(g),h=t(59),v=t(374),O=t(143),y=t(408),j=t(367),S=Object(s.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}}));function x(){var e=S();return r.a.createElement("div",{className:e.root},r.a.createElement(j.a,null))}var C=t(369),P=t(412),I=t(400),k=t(413),w=Object(s.a)((function(e){return{select:{margin:e.spacing(4),minWidth:120}}}));function F(e){var a=e.label,t=e.menuItems,n=e.value,l=e.setOnChange,o=w();return r.a.createElement(C.a,{variant:"outlined",className:o.select},r.a.createElement(P.a,{id:a},a),r.a.createElement(I.a,{labelId:a,id:a,value:n,onChange:function(e){return l(e.target.value)},label:a},t.map((function(e){return r.a.createElement(k.a,{key:e,value:e},e)}))))}var N=t(370),T=t(371),D=t(372),L=t(414),R=t(373),A=Object(s.a)((function(e){return{root:{width:250,height:300},avatar:{borderRadius:"50%",width:e.spacing(10),height:e.spacing(10)},center:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:e.spacing(1)}}}));function B(e){var a=e.id,t=e.email,n=e.nome,l=e.siglaPartido,o=e.siglaUf,c=e.setDeputadoId,i=e.urlFoto,s=A();return r.a.createElement(N.a,{elevation:3,className:s.root},r.a.createElement(T.a,null,r.a.createElement(D.a,null,r.a.createElement("div",{className:s.center},r.a.createElement(L.a,{alt:n,src:i,className:s.avatar})),r.a.createElement(O.a,{gutterBottom:!0,variant:"h6",component:"p"},n),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"Partido: ",l),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"Estado: ",o),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"a",href:"mailto:".concat(t)},"E-mail"))),r.a.createElement(R.a,null,r.a.createElement(v.a,{variant:"outlined",size:"small",color:"primary",onClick:function(){return c(a)}},"Cota parlamentar")))}var z=t(380),J=t(410),U=t(382),G=t(384),M=t(198),q=t(385),V=t(386),W=t(387),_=t(388),H=t(389),K=t(390),Q=t(118),X=t.n(Q),Y=t(193),Z=t.n(Y),$=t(377),ee=t(378),ae=t(379),te=t(402),ne=t(403);function re(e){for(var a=e.gastos,t=e.plotType,n=Object(f.a)(new Set(a.map((function(e){return e.nomeFornecedor})))),l=[],o=0;o<n.length;o++){for(var c=0,i={x:"",y:0},s=0;s<a.length;s++)a[s].nomeFornecedor===n[o]&&(c+=a[s].valorLiquido);i.x=String(n[o]),i.y=c,l.push(i)}return l.sort((function(e,a){return e.y-a.y})),r.a.createElement(r.a.Fragment,null,"Pizza"===t&&r.a.createElement(te.a,{height:200,width:300,colorScale:"qualitative",style:{labels:{fontSize:5}},standlone:!1,data:l,labels:function(e){var a=e.datum;return"".concat(a.x,": ").concat(a.y.toLocaleString("pt-br",{style:"currency",currency:"BRL"}))}}),"Barras"===t&&r.a.createElement(ne.a,{height:200,width:300,colorScale:"qualitative",style:{labels:{fontSize:5}},standlone:!1,data:l,labels:function(e){var a=e.datum;return"".concat(a.x,": ").concat(a.y.toLocaleString("pt-br",{style:"currency",currency:"BRL"}))}}))}function le(e){var a=e.gastos,t=e.isPlot,l=e.setIsPlot,o=e.escolhido,i=Object(n.useState)("Pizza"),s=Object(c.a)(i,2),u=s[0],m=s[1];return r.a.createElement("div",null,r.a.createElement(J.a,{fullScreen:!0,open:t,onClose:function(){return l(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement($.a,{id:"alert-dialog-title"},o.nome," (",o.siglaUf,") - ",o.siglaPartido),r.a.createElement(ee.a,null,r.a.createElement(re,{gastos:a,plotType:u})),r.a.createElement(ae.a,null,r.a.createElement(F,{label:"Gr\xe1fico",menuItems:["Pizza","Barras"],value:u,setOnChange:m}),r.a.createElement(v.a,{onClick:function(){return l(!1)},color:"primary"},r.a.createElement(X.a,null)," Fechar"))))}var oe=Object(s.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},avatar:{borderRadius:"50%",width:e.spacing(7),height:e.spacing(7)}}})),ce=r.a.forwardRef((function(e,a){return r.a.createElement(z.a,Object.assign({direction:"up",ref:a},e))}));function ie(e){var a=e.deputadoId,t=e.setDeputadoId,l=e.deputados,o=oe(),i=Object(n.useState)(!1),s=Object(c.a)(i,2),m=s[0],d=s[1],p=Object(n.useState)(""),b=Object(c.a)(p,2),f=b[0],g=b[1],j=Object(n.useState)([]),S=Object(c.a)(j,2),C=S[0],P=S[1],I=Object(n.useState)(""),k=Object(c.a)(I,2),w=k[0],F=k[1],N=Object(n.useState)(!1),T=Object(c.a)(N,2),D=T[0],R=T[1];function A(){return(A=Object(h.a)(E.a.mark((function e(a){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a){e.next=4;break}return e.abrupt("return");case 4:return d(!0),g(""),"ano=2020",t="https://dadosabertos.camara.leg.br/api/v2/deputados/".concat(a,"/despesas?").concat("ano=2020","&ordem=DESC&ordenarPor=ano"),e.next=10,fetch(t).then(function(){var e=Object(h.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json().then((function(e){P(e.dados);var t=l.filter((function(e){return e.id===a}))[0];F(t)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){g(e.message)}));case 10:d(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){t(""),F("")}return Object(n.useEffect)((function(){!function(e){A.apply(this,arguments)}(a)}),[a]),r.a.createElement("div",null,r.a.createElement(J.a,{fullScreen:!0,open:""!==a,onClose:B,TransitionComponent:ce},r.a.createElement(u.a,{className:o.appBar},r.a.createElement(U.a,null,r.a.createElement(O.a,{variant:"h5",className:o.title},"Cota parlamentar"),r.a.createElement(L.a,{alt:w.nome,src:w.urlFoto,className:o.avatar}),r.a.createElement(O.a,{variant:"h6",className:o.title},w.nome," (",w.siglaUf,") - ",w.siglaPartido),!m&&r.a.createElement(v.a,{autoFocus:!0,color:"inherit",onClick:function(){R(!D)}},r.a.createElement(Z.a,null)," Gr\xe1fico"),r.a.createElement(v.a,{autoFocus:!0,color:"inherit",onClick:B},r.a.createElement(X.a,null)," Fechar"))),m&&r.a.createElement(x,null),f.length>0&&r.a.createElement(y.a,{severity:"error",className:o.alert},f),!m&&0===f.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{component:M.a},r.a.createElement(q.a,{"aria-label":"Registros de pagamentos e reembolsos da cota parlamentar",size:"small"},r.a.createElement(V.a,null,r.a.createElement(W.a,null,r.a.createElement(_.a,null,"Data"),r.a.createElement(_.a,null,"Fornecedor"),r.a.createElement(_.a,null,"CNPJ"),r.a.createElement(_.a,null,"Tipo Despesa"),r.a.createElement(_.a,null,"Tipo Documento"),r.a.createElement(_.a,null,"Link Documento"),r.a.createElement(_.a,null,"Valor Documento"),r.a.createElement(_.a,null,"Valor Glosa"),r.a.createElement(_.a,null,"Valor L\xedquido"))),r.a.createElement(H.a,null,C.map((function(e){return r.a.createElement(W.a,{key:e.codDocumento},r.a.createElement(_.a,null,e.dataDocumento),r.a.createElement(_.a,null,e.nomeFornecedor),r.a.createElement(_.a,null,e.cnpjCpfFornecedor),r.a.createElement(_.a,null,e.tipoDespesa),r.a.createElement(_.a,null,e.tipoDocumento),r.a.createElement(_.a,null,r.a.createElement(K.a,{href:e.urlDocumento,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.a,{size:"small",variant:"contained",color:"primary"},"Abrir"))),r.a.createElement(_.a,null,e.valorDocumento.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),r.a.createElement(_.a,null,e.valorGlosa.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),r.a.createElement(_.a,null,e.valorLiquido.toLocaleString("pt-br",{style:"currency",currency:"BRL"})))}))))))),D&&!m&&r.a.createElement(le,{gastos:C,isPlot:D,setIsPlot:R,escolhido:w}))}var se=t(406),ue=Object(s.a)((function(e){return{formControl:{margin:e.spacing(4),minWidth:120},alert:{margin:e.spacing(2)},root:{margin:e.spacing(4),display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center","& > *":{margin:e.spacing(1)}}}}));function me(){var e=ue(),a=Object(n.useState)(!1),t=Object(c.a)(a,2),l=t[0],o=t[1],i=Object(n.useState)(""),s=Object(c.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)("Todos"),p=Object(c.a)(d,2),b=p[0],g=p[1],j=Object(n.useState)("Todos"),S=Object(c.a)(j,2),C=S[0],P=S[1],I=Object(n.useState)([]),k=Object(c.a)(I,2),w=k[0],N=k[1],T=Object(n.useState)([]),D=Object(c.a)(T,2),L=D[0],R=D[1],A=Object(n.useState)(1),z=Object(c.a)(A,2),J=z[0],U=z[1],G=Object(n.useState)(""),M=Object(c.a)(G,2),q=M[0],V=M[1],W=Object(n.useState)(["Todos"]),_=Object(c.a)(W,2),H=_[0],K=_[1];function Q(e){R(e.map((function(e){return r.a.createElement(B,{key:e.id,variant:"contained",id:e.id,email:e.email,nome:e.nome,siglaPartido:e.siglaPartido,siglaUf:e.siglaUf,urlFoto:e.urlFoto,setDeputadoId:V})})))}function X(){return(X=Object(h.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),"https://dadosabertos.camara.leg.br/api/v2/deputados?ordem=ASC&ordenarPor=nome",a="https://dadosabertos.camara.leg.br/api/v2/partidos?itens=200&ordem=ASC&ordenarPor=sigla",e.next=5,fetch("https://dadosabertos.camara.leg.br/api/v2/deputados?ordem=ASC&ordenarPor=nome").then(function(){var e=Object(h.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then((function(e){N(e.dados),localStorage.setItem("deputadosapi",JSON.stringify(e.dados))}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){m(e.message)}));case 5:return e.next=7,fetch(a).then(function(){var e=Object(h.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then((function(e){var a=e.dados.map((function(e){return e.sigla}));K([].concat(Object(f.a)(H),Object(f.a)(a))),localStorage.setItem("partidosapi",JSON.stringify([].concat(Object(f.a)(H),Object(f.a)(a))))}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){m(e.message)}));case 7:o(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("deputadosapi")),a=JSON.parse(localStorage.getItem("partidosapi"));null!==e&&e.length>0&&null!==a&&a.length>0?(N(e),K(a)):function(){X.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){w.length>0&&Q(w)}),[w]),r.a.createElement(r.a.Fragment,null,!l&&0===u.length&&r.a.createElement("div",{className:e.root},r.a.createElement(F,{label:"UF",menuItems:["Todos","AC","AL","AP","AM","BA","CE","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO","DF"],value:b,setOnChange:g}),r.a.createElement(F,{label:"Partido",menuItems:H,value:C,setOnChange:P}),r.a.createElement(v.a,{variant:"outlined",onClick:function(){if(o(!0),w.length>0){var e=[];"Todos"===b&&"Todos"===C?e=w:(e=w.filter((function(e){return"Todos"!==b&&"Todos"!==C?e.siglaUf===b&&e.siglaPartido===C:"Todos"===b&&"Todos"!==C?e.siglaPartido===C:"Todos"!==b&&"Todos"===C?e.siglaUf===b:void 0})),U(1)),Q(e)}o(!1)},className:e.formControl},"Filtrar"),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"Resultado: ",L.length," deputados(as).")),l&&r.a.createElement(x,null),u.length>0&&r.a.createElement(y.a,{severity:"error",className:e.alert},u),!l&&L.length>0&&H.length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.root},L.slice(8*J-8,8*J)),r.a.createElement("div",{className:e.root},r.a.createElement(se.a,{defaultPage:1,count:Math.ceil(L.length/8),color:"standard",onChange:function(e,a){return U(a)}}))),""!==q&&r.a.createElement(ie,{deputadoId:q,setDeputadoId:V,deputados:w}))}function de(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Sobre este projeto"),r.a.createElement("h4",null,"Frontend desenvolvido em ReactJS e Material-UI consumindo a API dos Dados Abertos da C\xe2mara dos Deputados. "),r.a.createElement("p",null,"Fonte de dados, API:"),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"a",rel:"noopener noreferrer",target:"_blank",href:"https://dadosabertos.camara.leg.br/swagger/api.html"},"https://dadosabertos.camara.leg.br/swagger/api.html"))}function pe(e){var a=e.children,t=e.value,n=e.index,l=Object(i.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},l),t===n&&r.a.createElement(p.a,null,r.a.createElement(b.a,null,a)))}function be(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var fe=Object(s.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}}));function ge(){var e=fe(),a=Object(n.useState)(0),t=Object(c.a)(a,2),l=t[0],o=t[1];return r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{position:"static",color:"default"},r.a.createElement(m.a,{value:l,onChange:function(e,a){o(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},r.a.createElement(d.a,Object.assign({label:"Governo API"},be(0))),r.a.createElement(d.a,Object.assign({label:"Sobre"},be(1))))),r.a.createElement(pe,{value:l,index:0},r.a.createElement(me,null)),r.a.createElement(pe,{value:l,index:1},r.a.createElement(de,null)))}var Ee=t(194),he=t(415),ve=t(395),Oe=t(397),ye=t(398),je=t(416),Se=t(120),xe=t(121),Ce=t(393),Pe=t(394),Ie=t(396);function ke(){var e=Object(n.useState)(!0),a=Object(c.a)(e,2),t=a[0],l=a[1],o=Object(n.useState)(!1),i=Object(c.a)(o,2),s=i[0],u=i[1],m=t?"dark":"light",d=t?Se.a[500]:xe.a[500],p=t?Ce.a[900]:Pe.a[400],b=Object(Ee.a)({palette:{type:m,primary:{main:d},secondary:{main:p}}});return b=Object(he.a)(b),r.a.createElement(ve.a,{theme:b},r.a.createElement(Ie.a,null),r.a.createElement(Oe.a,{style:{marginLeft:"20px",color:"grey"}},r.a.createElement(ye.a,{control:r.a.createElement(je.a,{size:"small",checked:s,onChange:function(){l(!t),u(!s)},color:"primary",inputProps:{"aria-label":"primary checkbox"}}),label:"Tema "+m})),r.a.createElement(ge,null))}o.a.render(r.a.createElement(ke,null),document.getElementById("root"))}},[[210,1,2]]]);
//# sourceMappingURL=main.30305873.chunk.js.map