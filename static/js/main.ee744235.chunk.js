(this["webpackJsonpdeputados-api"]=this["webpackJsonpdeputados-api"]||[]).push([[0],{104:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),o=t.n(l),c=t(13),s=(t(97),t(79)),i=t(145),u=t(156),m=t(176),d=t(167),p=t(166),b=t(175),f=t(49),E=t(19),g=t.n(E),h=t(35),v=t(154),O=t(83),j=t(179),S=t(147),y=Object(i.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}}));function x(){var e=y();return r.a.createElement("div",{className:e.root},r.a.createElement(S.a,null))}var C=t(149),P=t(181),k=t(174),F=t(182),I=Object(i.a)((function(e){return{select:{margin:e.spacing(4),minWidth:120}}}));function w(e){var a=e.label,t=e.menuItems,n=e.value,l=e.setOnChange,o=I();return r.a.createElement(C.a,{variant:"outlined",className:o.select},r.a.createElement(P.a,{id:a},a),r.a.createElement(k.a,{labelId:a,id:a,value:n,onChange:function(e){return l(e.target.value)},label:a},t.map((function(e){return r.a.createElement(F.a,{key:e,value:e},e)}))))}var N=t(150),D=t(151),T=t(153),A=t(152),R=Object(i.a)({root:{width:250,height:200}});function J(e){var a=e.id,t=e.nome,n=e.siglaPartido,l=e.siglaUf,o=e.setDeputadoId,c=R();return r.a.createElement(N.a,{elevation:3,className:c.root},r.a.createElement(D.a,null,r.a.createElement(A.a,null,r.a.createElement(O.a,{gutterBottom:!0,variant:"h5",component:"h2"},t),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"Partido: ",n),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"Estado: ",l))),r.a.createElement(T.a,null,r.a.createElement(v.a,{variant:"outlined",size:"small",color:"primary",onClick:function(){return o(a)}},"Cota parlamentar")))}var G=t(155),L=t(180),M=t(157),U=t(183),B=t(159),z=t(82),q=t(160),V=t(161),W=t(162),$=t(163),_=t(164),H=t(165),K=t(77),Q=t.n(K),X=Object(i.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},avatar:{borderRadius:"50%",width:e.spacing(7),height:e.spacing(7)}}})),Y=r.a.forwardRef((function(e,a){return r.a.createElement(G.a,Object.assign({direction:"up",ref:a},e))}));function Z(e){var a=e.deputadoId,t=e.setDeputadoId,l=e.deputados,o=X(),s=Object(n.useState)(!1),i=Object(c.a)(s,2),m=i[0],d=i[1],p=Object(n.useState)(""),b=Object(c.a)(p,2),f=b[0],E=b[1],S=Object(n.useState)([]),y=Object(c.a)(S,2),C=y[0],P=y[1],k=Object(n.useState)(""),F=Object(c.a)(k,2),I=F[0],w=F[1];function N(){return(N=Object(h.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a){e.next=4;break}return e.abrupt("return");case 4:return d(!0),E(""),t="https://dadosabertos.camara.leg.br/api/v2/deputados/".concat(a,"/despesas?ordem=ASC&ordenarPor=ano"),e.next=9,fetch(t).then(function(){var e=Object(h.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json().then((function(e){P(e.dados);var t=l.filter((function(e){return e.id===a}))[0];w(t)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){E(e.message)}));case 9:d(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){t(""),w("")}return Object(n.useEffect)((function(){!function(e){N.apply(this,arguments)}(a)}),[a]),r.a.createElement("div",null,r.a.createElement(L.a,{fullScreen:!0,open:""!==a,onClose:D,TransitionComponent:Y},r.a.createElement(u.a,{className:o.appBar},r.a.createElement(M.a,null,r.a.createElement(O.a,{variant:"h5",className:o.title},"Cota parlamentar"),r.a.createElement(U.a,{alt:I.nome,src:I.urlFoto,className:o.avatar}),r.a.createElement(O.a,{variant:"h6",className:o.title},I.nome," (",I.siglaUf,") - ",I.siglaPartido),r.a.createElement(v.a,{autoFocus:!0,color:"inherit",onClick:D},r.a.createElement(Q.a,null)," Fechar"))),m&&r.a.createElement(x,null),f.length>0&&r.a.createElement(j.a,{severity:"error",className:o.alert},f),!m&&0===f.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{component:z.a},r.a.createElement(q.a,{"aria-label":"Registros de pagamentos e reembolsos da cota parlamentar",size:"small"},r.a.createElement(V.a,null,r.a.createElement(W.a,null,r.a.createElement($.a,null,"Data"),r.a.createElement($.a,null,"Fornecedor"),r.a.createElement($.a,null,"CNPJ"),r.a.createElement($.a,null,"Tipo Despesa"),r.a.createElement($.a,null,"Tipo Documento"),r.a.createElement($.a,null,"Link Documento"),r.a.createElement($.a,null,"Valor Documento (R$)"),r.a.createElement($.a,null,"Valor Glosa (R$)"),r.a.createElement($.a,null,"Valor L\xedquido (R$)"))),r.a.createElement(_.a,null,C.map((function(e){return r.a.createElement(W.a,{key:e.codDocumento},r.a.createElement($.a,null,e.dataDocumento),r.a.createElement($.a,null,e.nomeFornecedor),r.a.createElement($.a,null,e.cnpjCpfFornecedor),r.a.createElement($.a,null,e.tipoDespesa),r.a.createElement($.a,null,e.tipoDocumento),r.a.createElement($.a,null,r.a.createElement(H.a,{href:e.urlDocumento,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.a,{size:"small",variant:"contained",color:"primary"},"Abrir"))),r.a.createElement($.a,null,e.valorDocumento.toFixed(2)),r.a.createElement($.a,null,e.valorGlosa.toFixed(2)),r.a.createElement($.a,null,e.valorLiquido.toFixed(2)))}))))))))}var ee=t(177),ae=Object(i.a)((function(e){return{formControl:{margin:e.spacing(4),minWidth:120},alert:{margin:e.spacing(2)},root:{margin:e.spacing(4),display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center","& > *":{margin:e.spacing(1)}}}}));function te(){var e=ae(),a=Object(n.useState)(!1),t=Object(c.a)(a,2),l=t[0],o=t[1],s=Object(n.useState)(""),i=Object(c.a)(s,2),u=i[0],m=i[1],d=Object(n.useState)("Todos"),p=Object(c.a)(d,2),b=p[0],E=p[1],S=Object(n.useState)("Todos"),y=Object(c.a)(S,2),C=y[0],P=y[1],k=Object(n.useState)([]),F=Object(c.a)(k,2),I=F[0],N=F[1],D=Object(n.useState)([]),T=Object(c.a)(D,2),A=T[0],R=T[1],G=Object(n.useState)(1),L=Object(c.a)(G,2),M=L[0],U=L[1],B=Object(n.useState)(""),z=Object(c.a)(B,2),q=z[0],V=z[1],W=Object(n.useState)(["Todos"]),$=Object(c.a)(W,2),_=$[0],H=$[1];function K(e){R(e.map((function(e){return r.a.createElement(J,{key:e.id,variant:"contained",id:e.id,nome:e.nome,siglaPartido:e.siglaPartido,siglaUf:e.siglaUf,urlFoto:e.urlFoto,setDeputadoId:V})})))}function Q(){return(Q=Object(h.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),"https://dadosabertos.camara.leg.br/api/v2/deputados?ordem=ASC&ordenarPor=nome",a="https://dadosabertos.camara.leg.br/api/v2/partidos?itens=200&ordem=ASC&ordenarPor=sigla",e.next=5,fetch("https://dadosabertos.camara.leg.br/api/v2/deputados?ordem=ASC&ordenarPor=nome").then(function(){var e=Object(h.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then((function(e){N(e.dados),localStorage.setItem("deputadosapi",JSON.stringify(e.dados))}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){m(e.message)}));case 5:return e.next=7,fetch(a).then(function(){var e=Object(h.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.json().then((function(e){var a=e.dados.map((function(e){return e.sigla}));H([].concat(Object(f.a)(_),Object(f.a)(a))),localStorage.setItem("partidosapi",JSON.stringify([].concat(Object(f.a)(_),Object(f.a)(a))))}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){m(e.message)}));case 7:o(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("deputadosapi")),a=JSON.parse(localStorage.getItem("partidosapi"));null!==e&&e.length>0&&null!==a&&a.length>0?(N(e),H(a)):function(){Q.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){I.length>0&&K(I)}),[I]),r.a.createElement(r.a.Fragment,null,!l&&0===u.length&&r.a.createElement("div",{className:e.root},r.a.createElement(w,{label:"UF",menuItems:["Todos","AC","AL","AP","AM","BA","CE","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO","DF"],value:b,setOnChange:E}),r.a.createElement(w,{label:"Partido",menuItems:_,value:C,setOnChange:P}),r.a.createElement(v.a,{variant:"outlined",onClick:function(){if(o(!0),I.length>0){var e=[];"Todos"===b&&"Todos"===C?e=I:(e=I.filter((function(e){return"Todos"!==b&&"Todos"!==C?e.siglaUf===b&&e.siglaPartido===C:"Todos"===b&&"Todos"!==C?e.siglaPartido===C:"Todos"!==b&&"Todos"===C?e.siglaUf===b:void 0})),U(1)),K(e)}o(!1)},className:e.formControl},"Filtrar"),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"Resultado: ",A.length," deputados(as).")),l&&r.a.createElement(x,null),u.length>0&&r.a.createElement(j.a,{severity:"error",className:e.alert},u),!l&&A.length>0&&_.length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.root},A.slice(8*M-8,8*M)),r.a.createElement("div",{className:e.root},r.a.createElement(ee.a,{defaultPage:1,count:Math.ceil(A.length/8),color:"standard",onChange:function(e,a){return U(a)}}))),""!==q&&r.a.createElement(Z,{deputadoId:q,setDeputadoId:V,deputados:I}))}function ne(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Sobre este projeto"),r.a.createElement("h4",null,"Frontend desenvolvido em ReactJS e Material-UI consumindo a API dos Dados Abertos da C\xe2mara dos Deputados. "),r.a.createElement("p",null,"Em breve:"),r.a.createElement("ul",null,r.a.createElement("li",null,'Gera\xe7\xe3o de gr\xe1ficos a partir dos registros de pagamentos e reembolsos da "cota parlamentar" para cada deputado, para os \xfaltimos 4 anos'),r.a.createElement("li",null,"Listagem em tabela desses registros para cada deputado, para os \xfaltimos 4 anos"),r.a.createElement("li",null,"... atualmente a tabela apresenta registros dos \xfaltimos 6 meses"),r.a.createElement("li",null,"Alguns links para notas fiscais est\xe3o quebrados (?)"),r.a.createElement("li",null,"Gerar relat\xf3rio em PDF sobre o deputado"),r.a.createElement("li",null,"Melhorar desempenho na renderiza\xe7\xe3o dos cards (513 cards)")),r.a.createElement("p",null,"Fonte de dados, API:"),r.a.createElement("a",{href:"https://dadosabertos.camara.leg.br/swagger/api.html",rel:"noopener noreferrer",target:"_blank"},"https://dadosabertos.camara.leg.br/swagger/api.html"))}function re(e){var a=e.children,t=e.value,n=e.index,l=Object(s.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},l),t===n&&r.a.createElement(p.a,null,r.a.createElement(b.a,null,a)))}function le(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var oe=Object(i.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}}));function ce(){var e=oe(),a=Object(n.useState)(0),t=Object(c.a)(a,2),l=t[0],o=t[1];return r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{position:"static",color:"default"},r.a.createElement(m.a,{value:l,onChange:function(e,a){o(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},r.a.createElement(d.a,Object.assign({label:"Governo API"},le(0))),r.a.createElement(d.a,Object.assign({label:"Sobre"},le(1))))),r.a.createElement(re,{value:l,index:0},r.a.createElement(te,null)),r.a.createElement(re,{value:l,index:1},r.a.createElement(ne,null)))}var se=t(78),ie=t(184),ue=t(170),me=t(172),de=t(173),pe=t(185),be=t(63),fe=t(64),Ee=t(168),ge=t(169),he=t(171);function ve(){var e=Object(n.useState)(!0),a=Object(c.a)(e,2),t=a[0],l=a[1],o=Object(n.useState)(!1),s=Object(c.a)(o,2),i=s[0],u=s[1],m=t?"dark":"light",d=t?be.a[500]:fe.a[500],p=t?Ee.a[900]:ge.a[400],b=Object(se.a)({palette:{type:m,primary:{main:d},secondary:{main:p}}});return b=Object(ie.a)(b),r.a.createElement(ue.a,{theme:b},r.a.createElement(he.a,null),r.a.createElement(me.a,{style:{marginLeft:"20px",color:"grey"}},r.a.createElement(de.a,{control:r.a.createElement(pe.a,{size:"small",checked:i,onChange:function(){l(!t),u(!i)},color:"primary",inputProps:{"aria-label":"primary checkbox"}}),label:"Tema "+m})),r.a.createElement(ce,null))}o.a.render(r.a.createElement(ve,null),document.getElementById("root"))},92:function(e,a,t){e.exports=t(104)},97:function(e,a,t){}},[[92,1,2]]]);
//# sourceMappingURL=main.ee744235.chunk.js.map